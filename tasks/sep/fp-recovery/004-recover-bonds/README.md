# Recover Bonds

## Objective

This task executes a `recover` operation of bonds in the `DelayedWETH` on behalf of the `Guardian` role. This facilitates the recovery of bonds locked in bricked dispute games so they may be redistributed to its participants. Bond recovery should only be used to recover _unclaimed credits_ of fault dispute games that cannot be reclaimed by players during a superchain pause.

### Tx: Recover Locked WETH 

Executes the `recover` call to the `DelayedWETH` proxy

**Function Signature:** `recover(uint256)`

**To:** `0xF3D833949133e4E4D3551343494b34079598EA5a`

**Value:** `0 WEI`

**Raw Input Data:** `0x0ca356820000000000000000000000000000000000000000000000000000000000000100`

#### Inputs

- `_wad`: a `uint256` of the amount of funds to recover (generated by running `just generate-input <delayed-weth-address>`)

## Preparing the Operation

1. Locate the address of the `DelayedWETH` contract that the `Guardian` wishes to recover funds from.

1. In the optimism monorepo, run the [`unclaimed-credits`](https://github.com/ethereum-optimism/optimism/blob/develop/op-chain-ops/cmd/unclaimed-credits/main.go) script to generate a `meta.json` containing the bond distribution:
    ```sh
    go run ./op-chain-ops/cmd/unclaimed-credits \
        --l1-eth-rpc $L1_ETH_RPC \
        --game-factory-address $GAME_FACTORY_ADDRESS > ./meta.json
    ```

1. Generate the batch with `just generate-input <delayed-weth-address>`.

1. Collect signatures for the action.

1. Execute the action.

## Signing and execution

Please see the signing and execution instructions in [SINGLE.md](../../../../SINGLE.md).

### State Validation

The only state modification done is the balance of the `DelayedWETH` contract is reduced by the sum of the credits in the `meta.json`, and the caller's account balance increased by the same amount.

The total sum of credits can be computed from the bond distribution using `jq`:
```sh
jq add ./meta.json
```

## Bond Redistribution

After bonds have been recovered from the `DelayedWETH` contract, it can be redistributed.
The `meta.json` file, generated by the `unclaimed-credits` script, contains the bonds awarded to players of Fault Dispute Games. It can be used as the basis of the bond redistribution.

