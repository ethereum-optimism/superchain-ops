# Holocene Hardfork Upgrade - `SystemConfig`

Status: READY TO SIGN

## Objective

Upgrades the `SystemConfig` for the Holocene hardfork.

The proposal was:

- [x] [Posted](https://gov.optimism.io/t/upgrade-proposal-11-holocene-network-upgrade/9313) on the governance forum.
- [x] [Approved](https://vote.optimism.io/proposals/20127877429053636874064552098716749508236019236440427814457915785398876262515) by Token House voting.
- [x] Not vetoed by the Citizens' house.
- [x] Executed on OP Mainnet.

This upgrades the SystemConfig in the v1.8.0-rc.4 release.

The governance proposal should be treated as the source of truth and used to verify the correctness of the onchain operations.

This upgrades the `SystemConfig` in the
[v1.8.0-rc.4](https://github.com/ethereum-optimism/optimism/tree/v1.8.0-rc.4) release.

## Pre-deployments

- `SystemConfig` - `0x33b83E4C305c908B2Fc181dDa36e230213058d7d`

## Simulation

Please see the "Simulating and Verifying the Transaction" instructions in [NESTED.md](../../../NESTED.md).
When simulating, ensure the logs say `Using script /your/path/to/superchain-ops/tasks/<path>/NestedSignFromJson.s.sol`.
This ensures all safety checks are run. If the default `NestedSignFromJson.s.sol` script is shown (without the full path), something is wrong and the safety checks will not run.

## State Validation

Please see the instructions for [validation](./VALIDATION.md).

## Execution

This upgrade
* Changes the implementation of the `SystemConfig` to hold EIP-1559 parameters for the Holocene upgrade.

See the `input.json` bundle for full details.

The batch will be executed on chain ID `11155111`, and contains `3` transactions.

## Tx #1: ProxyAdmin.upgrade(SystemConfigProxy, StorageSetter)
Upgrades the `SystemConfigProxy`to the StorageSetter.

**Function Signature:** `upgrade(address,address)`

**To:** `0xd7dB319a49362b2328cf417a934300cCcB442C8d`

**Value:** `0 WEI`

**Raw Input Data:** `0x99a88ec400000000000000000000000005c993e60179f28bf649a2bb5b00b5f4283bd525000000000000000000000000d81f43edbcacb4c29a9ba38a13ee5d79278270cc`

### Inputs
**_implementation:** `0xd81f43eDBCAcb4c29a9bA38a13Ee5d79278270cC`

**_proxy:** `0x05C993e60179f28bF649a2Bb5b00b5F4283bD525`


## Tx #2: SystemConfigProxy.setBytes32(0,0)
Zeroes out the initialized state variable to allow reinitialization.

**Function Signature:** `setBytes32(bytes32,bytes32)`

**To:** `0x05C993e60179f28bF649a2Bb5b00b5F4283bD525`

**Value:** `0 WEI`

**Raw Input Data:** `0x4e91db0800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`

### Inputs
**_value:** `0x0000000000000000000000000000000000000000000000000000000000000000`

**_slot:** `0x0000000000000000000000000000000000000000000000000000000000000000`


## Tx #3: ProxyAdmin.upgradeAndCall(SystemConfigProxy, SystemConfigImplementation, Initialize())
Upgrades the SystemConfig to a new implementation and initializes it.

**Function Signature:** `upgradeAndCall(address,address,bytes)`

**To:** `0xd7dB319a49362b2328cf417a934300cCcB442C8d`

**Value:** `0 WEI`

**Raw Input Data:** `0x9623609d00000000000000000000000005c993e60179f28bf649a2bb5b00b5f4283bd52500000000000000000000000033b83e4c305c908b2fc181dda36e230213058d7d00000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000284db9040fa000000000000000000000000bea2bc852a160b8547273660e22f4f08c2fa9bbb00000000000000000000000000000000000000000000000000000000000c3c9d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021e57c21530bc33f12ba96c9ddc135488365002f0000000000000000000000000000000000000000000000000000000001c9c38000000000000000000000000043ec5732581d3fae18abb7ce34a796e111dbd1a00000000000000000000000000000000000000000000000000000000001312d00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000003b9aca0000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000ffffffffffffffffffffffffffffffff000000000000000000000000004de1914f4f17ac234f5a5bc8a4072a231d44bf0000000000000000000000009fe1d3523f5342535e6e7770ed09ed85dbc1acc2000000000000000000000000d1c901bbd7796546a7ba2492e0e199911fae68c700000000000000000000000033f60714bbd74d62b66d79213c348614de51901c000000000000000000000000860e626c700af381133d9f4af31412a2d1db3d5d0000000000000000000000005c1d29c6c9c8b0800692acc95d700bcb4966a1d7000000000000000000000000686f782a749d1854f6fa3f948450f4c65c6674f0000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee00000000000000000000000000000000000000000000000000000000`

### Inputs
**_proxy:** `0x05C993e60179f28bF649a2Bb5b00b5F4283bD525`

**_data:** `0xdb9040fa000000000000000000000000bea2bc852a160b8547273660e22f4f08c2fa9bbb00000000000000000000000000000000000000000000000000000000000c3c9d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021e57c21530bc33f12ba96c9ddc135488365002f0000000000000000000000000000000000000000000000000000000001c9c38000000000000000000000000043ec5732581d3fae18abb7ce34a796e111dbd1a00000000000000000000000000000000000000000000000000000000001312d00000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000003b9aca0000000000000000000000000000000000000000000000000000000000000f424000000000000000000000000000000000ffffffffffffffffffffffffffffffff000000000000000000000000004de1914f4f17ac234f5a5bc8a4072a231d44bf0000000000000000000000009fe1d3523f5342535e6e7770ed09ed85dbc1acc2000000000000000000000000d1c901bbd7796546a7ba2492e0e199911fae68c700000000000000000000000033f60714bbd74d62b66d79213c348614de51901c000000000000000000000000860e626c700af381133d9f4af31412a2d1db3d5d0000000000000000000000005c1d29c6c9c8b0800692acc95d700bcb4966a1d7000000000000000000000000686f782a749d1854f6fa3f948450f4c65c6674f0000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee`

**_implementation:** `0x33b83E4C305c908B2Fc181dDa36e230213058d7d`

