# 015-U16-opcm-upgrade-v400-soneium: Upgrade 16: Soneium Testnet Minato

Status: [DRAFT]()

## Objective

Executes Upgrade 16 on Soneium Testnet Minato.

This task uses `op-contract/v4.0.0` [OPContractsManager](https://github.com/ethereum-optimism/optimism/blob/op-contracts/v4.0.0-rc.3/packages/contracts-bedrock/src/L1/OPContractsManager.sol) to upgrade the following chains:

1. Soneium Testnet Minato

### Timing

Expected to be executed on or around 2025-05-29.

## Transaction creation

The transaction is generated by the [OPCMUpgradeV400 template script](../../../template/OPCMUpgradeV400.sol),
which reads the inputs from the [`config.toml`](./config.toml) file.

## Signing and execution

Follow the instructions in the [Nested Execution](../../../NESTED.md) guide for the following steps:

- [1. Update repo](../../../NESTED.md#1-update-repo)
- [2. Setup Ledger](../../../NESTED.md#2-setup-ledger)
- [3. Simulate and validate the transaction](../../../NESTED.md#3-simulate-and-validate-the-transaction)

Then follow the instructions in the [Validation](./VALIDATION.md) guide.

## Simulation

When simulating, ensure the logs say `Using script <your_path_to_superchain_ops>/superchain-ops/src/improvements/template/OPCMUpgradeV400.sol`.
Navigate to the correct task directory then run the simulate command.
```
cd src/improvements/tasks/sep/015-U16-opcm-upgrade-v400-soneium
SIMULATE_WITHOUT_LEDGER=1 just --dotenv-path $(pwd)/.env --justfile ../../../nested.just simulate foundation
```

Keep in mind that to simulate this task correctly using the previous command, the op and ink task in this same upgrade must have been executed successfully. To test this if the previous task has not been executed yet, you can run the following command:
```
cd src/improvements
just simulate-stack sep 015-U16-opcm-upgrade-v400-uni-soneium
```
